---
title: Environment Settings
description: Environment variables reference for Teak applications
---

## Required Environment Variables

You need to configure environment variables across three locations:

### `backend/.env.local`

```bash
CONVEX_DEPLOYMENT=dev:your-deployment-name-123
CLERK_SECRET_KEY=sk_test_your_clerk_secret_key_here
OPENAI_API_KEY=sk_your_openai_api_key_here
POLAR_ACCESS_TOKEN=your_polar_access_token_here
POLAR_SERVER=sandbox  # or 'production'
ADMIN_USERIDS=user_id_1,user_id_2  # Comma-separated admin user IDs
```

### `apps/web/.env.local`

```bash
NEXT_PUBLIC_CONVEX_URL=https://your-convex-deployment.convex.cloud
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_your_clerk_publishable_key_here
NEXT_PUBLIC_CLERK_FRONTEND_API_URL=https://your-domain.clerk.accounts.dev
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/login
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/register
NEXT_PUBLIC_CLERK_SIGN_IN_FALLBACK_REDIRECT_URL=/
NEXT_PUBLIC_CLERK_SIGN_UP_FALLBACK_REDIRECT_URL=/
```

### `apps/mobile/.env.local`

```bash
EXPO_PUBLIC_CONVEX_URL=https://your-convex-deployment.convex.cloud
EXPO_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_your_clerk_publishable_key_here
EXPO_PUBLIC_CLERK_FRONTEND_API_URL=https://your-domain.clerk.accounts.dev
```

### `apps/extension/.env.local`

```bash
VITE_PUBLIC_CONVEX_URL=https://your-convex-deployment.convex.cloud
VITE_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_your_clerk_publishable_key_here
VITE_PUBLIC_CLERK_SYNC_HOST=http://localhost:3000
```

## Getting Your Values

### Convex URLs

1. Run `bun run predev` to create your deployment
2. Copy the deployment URL from the Convex dashboard
3. Use the deployment name (e.g., `dev:name-123`) for the backend
4. Use the full URL (e.g., `https://name.convex.cloud`) for frontend apps

### Clerk Keys

1. Create a Clerk application at [clerk.com](https://clerk.com)
2. Get your **Publishable Key** (`pk_test_...`) from the dashboard
3. Get your **Secret Key** (`sk_test_...`) from API Keys section
4. Configure Clerk in Convex dashboard: Settings â†’ Authentication

## Development vs Production

| Environment | Convex                | Clerk Keys                    | Notes             |
| ----------- | --------------------- | ----------------------------- | ----------------- |
| Development | `dev:name-123`        | `pk_test_...` / `sk_test_...` | Local development |
| Production  | Production deployment | `pk_live_...` / `sk_live_...` | Live environment  |

## Optional Configuration

### Admin Features

- Set `ADMIN_USERIDS` in backend to enable admin dashboard access for specific users
- Admin features include pipeline insights, processing status monitoring, and AI backfill management

### AI Processing

- `OPENAI_API_KEY` enables AI-powered content classification, summarization, and metadata generation
- Without this key, cards will be saved but won't receive AI enrichment

### Billing

- `POLAR_ACCESS_TOKEN` and `POLAR_SERVER` enable subscription features
- `POLAR_SERVER=sandbox` for testing, `POLAR_SERVER=production` for live payments

### Testing

- `E2E_CLERK_USER_EMAIL` and `E2E_CLERK_USER_PASSWORD` for end-to-end test authentication
- Configure test user credentials for Playwright e2e test suite
